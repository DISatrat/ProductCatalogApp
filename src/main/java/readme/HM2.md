# Домашнее задание 2

Реализация каталога товаров с системой управления пользователями и аудитом действий. Приложение использует PostgreSQL для хранения данных и Liquibase для управления миграциями базы данных.

## Выполненные требования

### Архитектура базы данных
- Все репозитории работают с PostgreSQL - все сущности сохраняются в БД
- Идентификаторы генерируются через sequence (BIGSERIAL)
- DDL-скрипты и предзаполнение данными выполняются только через Liquibase
- Служебные таблицы находятся в отдельной схеме `liquibase_schema`
- Таблицы сущностей размещены в схеме `app_schema` (не в public)

### Миграции Liquibase
- Скрипты миграции написаны в нотации YAML
- Реализовано несколько скриптов миграции:
    - `001-init-tables.yaml` - создание таблиц и последовательностей
    - `002-create-entities.yaml` - предзаполнение тестовыми данными
    - `changelog-master.yaml` - главный файл чейнджлога

### Тестирование
- Использован TestContainers для интеграционного тестирования
- Созданы тесты для репозиториев и сервисов
- Реализован базовый класс TestBase для настройки тестовой среды

### Docker и конфигурация
- Создан `docker-compose.yml` для развертывания PostgreSQL в Docker
- Настроены уникальные учетные данные (пользователь: disa, пароль: disa12, БД: marketplace_db)
- Реализована система конфигурации через YAML-файлы
- Все параметры подключения к БД и миграций настраиваются через конфиг-файл

## Структура проекта

### Модели данных
- **User** - пользователи системы
- **Product** - товары в каталоге
- **AuditEntry** - записи аудита действий

### Сервисы
- **ProductService** - управление товарами с кэшированием
- **UserService** - управление пользователями
- **AuditService** - ведение журнала аудита

### Репозитории
- Реализованы репозитории для работы с PostgreSQL
- Поддержка CRUD операций
- Поиск и фильтрация товаров

## Запуск приложения

1. Запустить базу данных:
```bash
docker-compose up -d postgres